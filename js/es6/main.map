{"version":3,"file":"main.js","sources":["/Users/rpmac/Documents/Code/weather-map/public/js/es6/main.es6.js","@traceur/generated/TemplateParser/0","@traceur/generated/TemplateParser/1"],"names":[],"mappings":"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","sourcesContent":["/* global google */\n/* global AmCharts: true */\n/* jshint unused:false */\n/* jshint camelcase:false */\n\n(function(){\n  'use strict';\n\n  $(document).ready(init);\n\n  var map;\n  var charts={};\n\n  function init() {\n    initMap(36,-86,3);\n    $('#go').click(doAdd);\n  }\n\n  function doAdd() {\n    doShow();\n    let location = $('#loc').val().trim();\n    let url = 'http://api.wunderground.com/api/8602561c1a1ca88c/forecast10day/q/'+location+'.json?callback=?';\n    $.getJSON(url, addLocation);\n  }\n\n  function addLocation(cond) {\n    let days = cond.forecast.simpleforecast.forecastday; // array of weather info\n    let zip = $('#loc').val().trim();\n    $('#loc').val('');\n    $('#loc').focus();\n    $('#graphs').append(`<div class='graph' data-zip=${zip}></div>`);\n    makeNewChart(zip);\n    days.forEach(w=>charts[zip].dataProvider.push({day: w.date.weekday_short,\n                                                   highs: w.high.fahrenheit,\n                                                   lows:  w.low.fahrenheit}) );\n    charts[zip].validateData();\n  }\n\n  function labelChart(city) {\n    $('#graphs').append(`<p class='graph-title'>${city}</p>`);\n  }\n\n  function htmlAddMarker(lat,lng,name,iconpath,zoom){\n    var latLng = new google.maps.LatLng(lat, lng);\n    new google.maps.Marker({map: map, position: latLng, title: name, icon: iconpath});\n    map.setCenter(latLng);\n    map.setZoom(zoom);\n  }\n\n  function doShow() {\n    let location = $('#loc').val().trim();\n    let geocoder = new google.maps.Geocoder();\n\n    geocoder.geocode({address: location}, function(results, status){\n        var name = results[0].formatted_address;\n        var lat = results[0].geometry.location.lat();\n        var long= results[0].geometry.location.lng();\n        var city = results[0].address_components[1].short_name;\n        var zip = results[0].address_components[0].short_name;\n        labelChart(city);\n        htmlAddMarker(lat,long,name, './media/flagicon.png',10);\n      });\n  }\n\n  function initMap(lat, lng, zoom){\n    let mapOptions = {center: new google.maps.LatLng(lat, lng), zoom: zoom, mapTypeId: google.maps.MapTypeId.ROADMAP};\n    map = new google.maps.Map(document.getElementById('map'), myOptions);\n  }\n\n  // Map style\n  var styles = [{'featureType':'water','stylers':[{'visibility':'on'},{'color':'#acbcc9'}]},{'featureType':'landscape','stylers':[{'color':'#f2e5d4'}]},{'featureType':'road.highway','elementType':'geometry','stylers':[{'color':'#c5c6c6'}]},{'featureType':'road.arterial','elementType':'geometry','stylers':[{'color':'#e4d7c6'}]},{'featureType':'road.local','elementType':'geometry','stylers':[{'color':'#fbfaf7'}]},{'featureType':'poi.park','elementType':'geometry','stylers':[{'color':'#c5dac6'}]},{'featureType':'administrative','stylers':[{'visibility':'on'},{'lightness':33}]},{'featureType':'road'},{'featureType':'poi.park','elementType':'labels','stylers':[{'visibility':'on'},{'lightness':20}]},{},{'featureType':'road','stylers':[{'lightness':20}]}];\n  var myOptions = {\n      zoom: 3,\n      center: new google.maps.LatLng(39,-92),\n      mapTypeId: google.maps.MapTypeId.ROADMAP,\n      styles: styles\n      };\n\n  function makeNewChart(zip) {\n    let graph = $(`.graph[data-zip=${zip}]`)[0];\n    charts[zip] = AmCharts.makeChart(graph, {\n        'type': 'serial',\n        'theme': 'dark',\n        'pathToImages': 'http://www.amcharts.com/lib/3/images/',\n        'legend': {\n            'useGraphSettings': true\n        },\n        'dataProvider': [],\n        'valueAxes': [{\n            'id':'v1',\n            'minimum':0,\n            'maximum':100,\n            'axisColor': '#FF6600',\n            'axisThickness': 2,\n            'gridAlpha': 0,\n            'axisAlpha': 1,\n            'position': 'left'\n        }],\n        'graphs': [{\n            'valueAxis': 'v1',\n            'lineColor': '#FF6600',\n            'bullet': 'round',\n            'bulletBorderThickness': 1,\n            'hideBulletsCount': 30,\n            'title': 'Hi Temp',\n            'valueField': 'highs',\n    \t\t'fillAlphas': 0\n        }, {\n            'valueAxis': 'v1',\n            'lineColor': '#FCD202',\n            'bullet': 'square',\n            'bulletBorderThickness': 1,\n            'hideBulletsCount': 30,\n            'title': 'Lo Temps',\n            'valueField': 'lows',\n    \t\t'fillAlphas': 0\n        }],\n        'chartCursor': {\n            'cursorPosition': 'mouse'\n        },\n        'categoryField': 'day',\n        'categoryAxis': {\n//            'parseDates': true,\n            'axisColor': '#DADADA',\n            'minorGridEnabled': true\n        }\n    });\n  }\n\n})();\n","$__placeholder__0[$traceurRuntime.toProperty($__placeholder__1)]","$traceurRuntime.setProperty($__placeholder__0,\n          $__placeholder__1, $__placeholder__2)"]}